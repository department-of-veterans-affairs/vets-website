{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "Covid Vaccine Trial",
    "type": "object",
    "additionalProperties": false,
    "definitions": {
        
        "date": {
            "pattern": "^(\\d{4}|XXXX)-(0[1-9]|1[0-2]|XX)-(0[1-9]|[1-2][0-9]|3[0-1]|XX)$",
            "type": "string"
        },
        "usaPostalCode": {
            "type": "string",
            "pattern": "^(\\d{5})(?:[-](\\d{4}))?$"
        }
        
    },
    "properties": {
        "residentsInHome": {
            "type": "string",
            "enum": [
                "ONE_TWO",
                "THREE_FIVE",
                "SIX_TEN",
                "MORE_THAN_TEN"
            ]
        },
        "vaccinated": {
            "type": "boolean"
        },
        "VACCINATED_PLAN": {
        "type": "string",
        "enum": [
            "DEFINITELY",
            "PROBABLY_YES",
            "PROBABLY_NO",
            "DEFINITELY_NO",
            "UNSURE"
        ]
        },
        "VACCINATED_DETAILS": {
            "type": "string",
            "enum": [
                "Moderna",
                "Pfizer",
                "Johnson & Johnson",
                "Novavax",
                "Astra Zeneca",
                "Don't know/Don't remember"
            ]
        },
        "VACCINATED_DATE1": {
            "$ref": "#/definitions/date"
        },
        "VACCINATED_DATE2": {
            "$ref": "#/definitions/date"
        },
        "VACCINATED_SECOND": {
            "type": "boolean"
        },
        "diagnosed": {
            "type": "boolean"
        },
        "DIAGNOSED_DETAILS": {
            "type": "object",
            "properties": {
                "DIAGNOSED_DETAILS::SYMPTOMS_ONLY": {
                    "type": "boolean"
                },
                "DIAGNOSED_DETAILS::ANTIBODY_BLOOD_TEST": {
                    "type": "boolean"
                },
                "DIAGNOSED_DETAILS::NASAL_SWAB_TEST_POSITIVE": {
                    "type": "boolean"
                },
                "DIAGNOSED_DETAILS::DIFFERENT_METHOD": {
                    "type": "boolean"
                }
            }
        },
        "ELIGIBLE": {
            "type": "boolean"
        },
        "FACILITY": {
            "type": "boolean"
        },
        "zipCode": {
            "$ref": "#/definitions/usaPostalCode"
        }
    },
    "required": [
        "zipCode",
        "diagnosed",
        "vaccinated",
        "ELIGIBLE",
        "FACILITY"
    ]
}