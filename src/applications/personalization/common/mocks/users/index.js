/* eslint-disable camelcase */
const cloneDeep = require('lodash/cloneDeep');
const set = require('lodash/set');
// const dateFns = require('date-fns');

// const inOneMonth = dateFns.getUnixTime(dateFns.add(new Date(), { months: 1 }));
// const yesterday = dateFns.getUnixTime(dateFns.add(new Date(), { days: -1 }));

const simpleUser = {
  data: {
    id: '',
    type: 'users_scaffolds',
    attributes: {
      services: [
        'facilities',
        'hca',
        'edu-benefits',
        'form-save-in-progress',
        'form-prefill',
        'lighthouse',
        'evss-claims',
        'form526',
        'user-profile',
        'appeals-status',
        'id-card',
        'identity-proofed',
        'vet360',
        'messaging',
      ],
      account: {
        accountUuid: '7d9e2bfb-13ae-45c8-8764-ea3c87cd8af3',
      },
      profile: {
        initialSignIn: '2023-10-05T12:00:00+00:00',
        email: 'vets.gov.user+75@gmail.com',
        firstName: 'MITCHELL',
        middleName: 'G',
        lastName: 'JENKINS',
        birthDate: '1949-03-04',
        gender: 'M',
        zip: '97063',
        claims: {
          appeals: true,
          militaryHistory: true,
          paymentHistory: true,
          ratingInfo: true,
        },
        lastSignedIn: '2022-03-24T18:15:06.566Z',
        loa: {
          current: 3,
          highest: 3,
        },
        multifactor: true,
        verified: true,
        signIn: {
          serviceName: 'idme',
          accountType: 'N/A',
        },
        authnContext: 'http://idmanagement.gov/ns/assurance/loa/3',
      },
      vaProfile: {
        status: 'OK',
        birthDate: '19490304',
        familyName: 'Jenkins',
        gender: 'M',
        givenNames: ['Mitchell', 'G'],
        facilities: [],
        vaPatient: true,
        mhvAccountState: 'NONE',
      },
      veteranStatus: {
        status: 'OK',
        isVeteran: true,
        servedInMilitary: true,
      },
      inProgressForms: [
        {
          form: '40-10007',
          lastUpdated: 1696002346,
          metadata: {
            version: 0,
            returnUrl: '/applicant-contact-information',
            savedAt: 1696002345850,
            submission: {
              status: false,
              errorMessage: false,
              id: false,
              timestamp: false,
              hasAttemptedSubmit: false,
            },
            createdAt: 1696002097,
            expiresAt: 1702844198,
            lastUpdated: 1696002346,
            inProgressFormId: 25417,
          },
        },
        {
          form: '21-526EZ',
          lastUpdated: 1691764281,
          metadata: {
            version: 9,
            returnUrl: '/new-disabilities/ptsd-type',
            savedAt: 1691764281066,
            submission: {
              status: false,
              errorMessage: false,
              id: false,
              timestamp: false,
              hasAttemptedSubmit: false,
            },
            createdAt: 1691764170,
            expiresAt: 1729282589,
            lastUpdated: 1691764281,
            inProgressFormId: 23844,
          },
        },
        // {
        //   form: '686C-674-V2',
        //   lastUpdated: yesterday,
        //   metadata: {
        //     version: 1,
        //     returnUrl: '/review-dependents/',
        //     savedAt: 1691764281066,
        //     submission: {
        //       status: false,
        //       errorMessage: false,
        //       id: false,
        //       timestamp: false,
        //       hasAttemptedSubmit: false,
        //     },
        //     createdAt: 1691764170,
        //     expiresAt: inOneMonth,
        //     lastUpdated: yesterday,
        //     inProgressFormId: 23844,
        //   },
        // },
        {
          form: '3333',
          lastUpdated: 1691764281,
          metadata: {
            version: 9,
            returnUrl: '',
            savedAt: 1691764281066,
            submission: {
              status: false,
              errorMessage: false,
              id: false,
              timestamp: false,
              hasAttemptedSubmit: false,
            },
            createdAt: 1691764170,
            expiresAt: 1729282589,
            lastUpdated: 1691764281,
            inProgressFormId: 23844,
          },
        },
      ],
      prefillsAvailable: ['21-686C'],
      vet360ContactInformation: {
        email: {
          createdAt: '2018-04-20T17:24:13.000Z',
          emailAddress: 'myemail72585885@unattended.com',
          effectiveEndDate: null,
          effectiveStartDate: '2019-03-07T22:32:40.000Z',
          id: 20648,
          sourceDate: '2019-03-07T22:32:40.000Z',
          sourceSystemUser: null,
          transactionId: '44a0858b-3dd1-4de2-903d-38b147981a9c',
          updatedAt: '2019-03-08T05:09:58.000Z',
          vet360Id: '1273766',
        },
        residentialAddress: {
          addressLine1: '345 Home Address St.',
          addressLine2: null,
          addressLine3: null,
          addressPou: 'RESIDENCE/CHOICE',
          addressType: 'DOMESTIC',
          city: 'San Francisco',
          countryName: 'United States',
          countryCodeIso2: 'US',
          countryCodeIso3: 'USA',
          countryCodeFips: null,
          countyCode: null,
          countyName: null,
          createdAt: '2022-03-21T21:26:35.000Z',
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-23T19:11:51.000Z',
          geocodeDate: '2022-03-23T19:11:51.000Z',
          geocodePrecision: null,
          id: 312003,
          internationalPostalCode: null,
          latitude: 37.781,
          longitude: -122.4605,
          province: null,
          sourceDate: '2022-03-23T19:11:51.000Z',
          sourceSystemUser: null,
          stateCode: 'CA',
          transactionId: 'c5adb989-3b87-47b6-afe3-dc18800cedc3',
          updatedAt: '2022-03-23T19:11:52.000Z',
          validationKey: null,
          vet360Id: '1273766',
          zipCode: '94118',
          zipCodeSuffix: null,
          badAddress: null,
        },
        mailingAddress: {
          addressLine1: '123 Mailing Address St.',
          addressLine2: 'Apt 1',
          addressLine3: null,
          addressPou: 'CORRESPONDENCE',
          addressType: 'DOMESTIC',
          city: 'Fulton',
          countryName: 'United States',
          countryCodeIso2: 'US',
          countryCodeIso3: 'USA',
          countryCodeFips: null,
          countyCode: null,
          countyName: null,
          createdAt: '2022-03-21T21:06:15.000Z',
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-23T19:14:59.000Z',
          geocodeDate: '2022-03-23T19:15:00.000Z',
          geocodePrecision: null,
          id: 311999,
          internationalPostalCode: null,
          latitude: 45.2248,
          longitude: -121.3595,
          province: null,
          sourceDate: '2022-03-23T19:14:59.000Z',
          sourceSystemUser: null,
          stateCode: 'NY',
          transactionId: '3ea3ecf8-3ddf-46d9-8a4b-b5554385b3fb',
          updatedAt: '2022-03-23T19:15:01.000Z',
          validationKey: null,
          vet360Id: '1273766',
          zipCode: '97063',
          zipCodeSuffix: null,
          badAddress: null,
        },
        mobilePhone: {
          areaCode: '619',
          countryCode: '1',
          createdAt: '2022-01-12T16:22:03.000Z',
          extension: null,
          effectiveEndDate: null,
          effectiveStartDate: '2022-02-17T20:15:44.000Z',
          id: 269804,
          isInternational: false,
          isTextable: null,
          isTextPermitted: null,
          isTty: null,
          isVoicemailable: null,
          phoneNumber: '5551234',
          phoneType: 'MOBILE',
          sourceDate: '2022-02-17T20:15:44.000Z',
          sourceSystemUser: null,
          transactionId: 'fdb13953-f670-4bd3-a3bb-8881eb9165dd',
          updatedAt: '2022-02-17T20:15:45.000Z',
          vet360Id: '1273766',
        },
        homePhone: {
          areaCode: '989',
          countryCode: '1',
          createdAt: '2018-04-20T17:22:56.000Z',
          extension: null,
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-11T16:31:55.000Z',
          id: 2272982,
          isInternational: false,
          isTextable: null,
          isTextPermitted: null,
          isTty: null,
          isVoicemailable: null,
          phoneNumber: '8981233',
          phoneType: 'HOME',
          sourceDate: '2022-03-11T16:31:55.000Z',
          sourceSystemUser: null,
          transactionId: '2814cdf6-7f2c-431b-95f3-d37f3837215d',
          updatedAt: '2022-03-11T16:31:56.000Z',
          vet360Id: '1273766',
        },
        workPhone: null,
        temporaryPhone: null,
        faxNumber: null,
        textPermission: null,
      },
      session: {
        ssoe: true,
        transactionid: 'YEI6t8W3ANsvCT04oB+iXh/UP03PXSFg3Y36L2QaxLE=',
      },
    },
  },
  meta: {
    errors: null,
  },
};

const loa3NoHealthUser = {
  ...simpleUser,
  data: {
    ...simpleUser.data,
    attributes: {
      ...simpleUser.data.attributes,
      vaProfile: {
        ...simpleUser.data.attributes.vaProfile,
        vaPatient: false,
      },
    },
  },
};

const loa1SimpleUser = {
  data: {
    id: '',
    type: 'users_scaffolds',
    attributes: {
      services: [
        'facilities',
        'hca',
        'edu-benefits',
        'form-save-in-progress',
        'form-prefill',
        'evss-claims',
        'form526',
        'user-profile',
        'appeals-status',
        'id-card',
        'identity-proofed',
        'vet360',
      ],
      account: {
        accountUuid: '7d9e2bfb-13ae-45c8-8764-ea3c87cd8af3',
      },
      profile: {
        email: 'vets.gov.user+75@gmail.com',
        firstName: 'MITCHELL',
        middleName: 'G',
        lastName: 'JENKINS',
        birthDate: '1949-03-04',
        gender: 'M',
        zip: '97063',
        lastSignedIn: '2022-03-24T18:15:06.566Z',
        loa: {
          current: 1,
        },
        multifactor: false,
        verified: false,
        signIn: {
          serviceName: 'idme',
          accountType: 'N/A',
        },
        authnContext: 'http://idmanagement.gov/ns/assurance/loa/3',
        claims: {
          ch33BankAccounts: false,
          communicationPreferences: false,
          connectedApps: false,
          militaryHistory: false,
          paymentHistory: false,
          personalInformation: false,
          ratingInfo: false,
          appeals: false,
          medicalCopays: false,
        },
      },
      vaProfile: {
        status: 'OK',
        birthDate: '19490304',
        familyName: 'Jenkins',
        gender: 'M',
        givenNames: ['Mitchell', 'G'],
        facilities: [
          {
            facilityId: '989',
            isCerner: false,
          },
          {
            facilityId: '987',
            isCerner: false,
          },
          {
            facilityId: '983',
            isCerner: false,
          },
        ],
        vaPatient: false,
        mhvAccountState: 'NONE',
      },
      veteranStatus: {
        status: 'OK',
        isVeteran: true,
        servedInMilitary: true,
      },
      inProgressForms: [],
      prefillsAvailable: ['21-686C'],
      vet360ContactInformation: {
        email: {
          createdAt: '2018-04-20T17:24:13.000Z',
          emailAddress: 'myemail72585885@unattended.com',
          effectiveEndDate: null,
          effectiveStartDate: '2019-03-07T22:32:40.000Z',
          id: 20648,
          sourceDate: '2019-03-07T22:32:40.000Z',
          sourceSystemUser: null,
          transactionId: '44a0858b-3dd1-4de2-903d-38b147981a9c',
          updatedAt: '2019-03-08T05:09:58.000Z',
          vet360Id: '1273766',
        },
        residentialAddress: {
          addressLine1: '345 Home Address St.',
          addressLine2: null,
          addressLine3: null,
          addressPou: 'RESIDENCE/CHOICE',
          addressType: 'DOMESTIC',
          city: 'San Francisco',
          countryName: 'United States',
          countryCodeIso2: 'US',
          countryCodeIso3: 'USA',
          countryCodeFips: null,
          countyCode: null,
          countyName: null,
          createdAt: '2022-03-21T21:26:35.000Z',
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-23T19:11:51.000Z',
          geocodeDate: '2022-03-23T19:11:51.000Z',
          geocodePrecision: null,
          id: 312003,
          internationalPostalCode: null,
          latitude: 37.781,
          longitude: -122.4605,
          province: null,
          sourceDate: '2022-03-23T19:11:51.000Z',
          sourceSystemUser: null,
          stateCode: 'CA',
          transactionId: 'c5adb989-3b87-47b6-afe3-dc18800cedc3',
          updatedAt: '2022-03-23T19:11:52.000Z',
          validationKey: null,
          vet360Id: '1273766',
          zipCode: '94118',
          zipCodeSuffix: null,
          badAddress: null,
        },
        mailingAddress: {
          addressLine1: '123 Mailing Address St.',
          addressLine2: 'Apt 1',
          addressLine3: null,
          addressPou: 'CORRESPONDENCE',
          addressType: 'DOMESTIC',
          city: 'Fulton',
          countryName: 'United States',
          countryCodeIso2: 'US',
          countryCodeIso3: 'USA',
          countryCodeFips: null,
          countyCode: null,
          countyName: null,
          createdAt: '2022-03-21T21:06:15.000Z',
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-23T19:14:59.000Z',
          geocodeDate: '2022-03-23T19:15:00.000Z',
          geocodePrecision: null,
          id: 311999,
          internationalPostalCode: null,
          latitude: 45.2248,
          longitude: -121.3595,
          province: null,
          sourceDate: '2022-03-23T19:14:59.000Z',
          sourceSystemUser: null,
          stateCode: 'NY',
          transactionId: '3ea3ecf8-3ddf-46d9-8a4b-b5554385b3fb',
          updatedAt: '2022-03-23T19:15:01.000Z',
          validationKey: null,
          vet360Id: '1273766',
          zipCode: '97063',
          zipCodeSuffix: null,
          badAddress: null,
        },
        mobilePhone: {
          areaCode: '619',
          countryCode: '1',
          createdAt: '2022-01-12T16:22:03.000Z',
          extension: null,
          effectiveEndDate: null,
          effectiveStartDate: '2022-02-17T20:15:44.000Z',
          id: 269804,
          isInternational: false,
          isTextable: null,
          isTextPermitted: null,
          isTty: null,
          isVoicemailable: null,
          phoneNumber: '5551234',
          phoneType: 'MOBILE',
          sourceDate: '2022-02-17T20:15:44.000Z',
          sourceSystemUser: null,
          transactionId: 'fdb13953-f670-4bd3-a3bb-8881eb9165dd',
          updatedAt: '2022-02-17T20:15:45.000Z',
          vet360Id: '1273766',
        },
        homePhone: {
          areaCode: '989',
          countryCode: '1',
          createdAt: '2018-04-20T17:22:56.000Z',
          extension: null,
          effectiveEndDate: null,
          effectiveStartDate: '2022-03-11T16:31:55.000Z',
          id: 2272982,
          isInternational: false,
          isTextable: null,
          isTextPermitted: null,
          isTty: null,
          isVoicemailable: null,
          phoneNumber: '8981233',
          phoneType: 'HOME',
          sourceDate: '2022-03-11T16:31:55.000Z',
          sourceSystemUser: null,
          transactionId: '2814cdf6-7f2c-431b-95f3-d37f3837215d',
          updatedAt: '2022-03-11T16:31:56.000Z',
          vet360Id: '1273766',
        },
        workPhone: null,
        temporaryPhone: null,
        faxNumber: null,
        textPermission: null,
      },
      session: {
        ssoe: true,
        transactionid: 'YEI6t8W3ANsvCT04oB+iXh/UP03PXSFg3Y36L2QaxLE=',
      },
    },
  },
  meta: {
    errors: null,
  },
};

const cernerUser = {
  data: {
    id: '',
    type: 'users_scaffolds',
    attributes: {
      services: [
        'facilities',
        'hca',
        'edu-benefits',
        'form-save-in-progress',
        'form-prefill',
        'lighthouse-claims',
        'form526',
        'user-profile',
        'appeals-status',
        'id-card',
        'identity-proofed',
        'vet360',
      ],
      account: { accountUuid: '84cd4b1c-8cb8-4566-9f92-9c23013eb784' },
      profile: {
        email: 'vets.gov.user+81@gmail.com',
        firstName: 'TRAVIS',
        middleName: 'NULL',
        lastName: 'JONES',
        birthDate: '1950-09-06',
        gender: 'M',
        zip: '33618-3238',
        lastSignedIn: '2022-06-10T14:51:45.051Z',
        loa: { current: 3, highest: 3 },
        multifactor: true,
        verified: true,
        signIn: { serviceName: 'idme', accountType: 'N/A' },
        authnContext: 'http://idmanagement.gov/ns/assurance/loa/3',
        claims: {
          ch33_bank_accounts: true,
          communication_preferences: true,
          connected_apps: true,
          military_history: true,
          payment_history: true,
          personal_information: true,
          rating_info: true,
          appeals: true,
          medical_copays: true,
        },
      },
      vaProfile: {
        status: 'OK',
        birthDate: '19500906',
        familyName: 'Jones',
        gender: 'M',
        givenNames: ['Travis', 'Null'],
        facilities: [
          { facilityId: '757', isCerner: true },
          { facilityId: '534', isCerner: false },
          { facilityId: '649', isCerner: false },
        ],
        vaPatient: true,
        mhvAccountState: 'OK',
      },
      veteranStatus: { status: 'OK', isVeteran: true, servedInMilitary: true },
      inProgressForms: [
        {
          form: '1010ez',
          metadata: {
            version: 6,
            returnUrl: '/insurance-information/va-facility',
            savedAt: 1647615187633,
            submission: {
              status: false,
              errorMessage: false,
              id: false,
              timestamp: false,
              hasAttemptedSubmit: false,
            },
            expiresAt: 1652799190,
            lastUpdated: 1647615190,
            inProgressFormId: 12403,
          },
          lastUpdated: 1647615190,
        },
        {
          form: '22-1990EZ',
          metadata: {
            version: 0,
            returnUrl: '/contact-information/contact-preferences',
            savedAt: 1644856853418,
            submission: {
              status: false,
              errorMessage: false,
              id: false,
              timestamp: false,
              hasAttemptedSubmit: false,
            },
            expiresAt: 1650040853,
            lastUpdated: 1644856853,
            inProgressFormId: 12069,
          },
          lastUpdated: 1644856853,
        },
      ],
      prefillsAvailable: [
        '40-10007',
        '0873',
        '22-1990',
        '22-1990N',
        '22-1990E',
        '22-1995',
        '22-5490',
        '22-5495',
        '22-0993',
        '22-0994',
        'FEEDBACK-TOOL',
        '22-10203',
        '22-1990S',
        '22-1990EZ',
        '21-526EZ',
        '1010ez',
        '21P-530',
        '21P-527EZ',
        '686C-674-V2',
        '20-0996',
        '10182',
        'MDOT',
        '5655',
        '28-8832',
        '28-1900',
        '26-1880',
      ],
      vet360ContactInformation: {
        email: null,
        residentialAddress: null,
        mailingAddress: null,
        mobilePhone: null,
        homePhone: null,
        workPhone: null,
        temporaryPhone: null,
        faxNumber: null,
        textPermission: null,
      },
      session: {
        ssoe: true,
        transactionid: 'MRcMlozm1cz7a7NWhU4d12bH0aiF0irdq8E1cvtt9ig=',
      },
    },
  },
  meta: { errors: null },
};

// Useful for testing in the server mock file that the ContactInfoNeeded
// component, within Dashboardboard.jsx, appears appropriately for an
// LOA3 user missing a piece of required contact information.
const loa3UserWithNoEmail = set(
  cloneDeep(simpleUser),
  'data.attributes.vet360ContactInformation.email',
  null,
);

// Useful for testing in the server mock file that the ContactInfoNeeded
// component, within Dashboardboard.jsx, *does not* appear for an LOA1
// user missing a piece of required contact information.
const loa1UserWithNoEmail = set(
  cloneDeep(loa1SimpleUser),
  'data.attributes.vet360ContactInformation.email',
  null,
);

const loa3With1010ez = set(
  cloneDeep(simpleUser),
  'data.attributes.inProgressForms',
  [
    {
      form: '1010ez',
      lastUpdated: 1691764281,
      metadata: {
        version: 9,
        returnUrl: '',
        submission: {
          status: false,
          errorMessage: false,
          id: false,
          timestamp: false,
          hasAttemptedSubmit: false,
        },
        createdAt: 1691764170,
        lastUpdated: 1691764281,
        inProgressFormId: 23844,
        savedAt: 1696002345850,
        expiresAt: 32503680000,
      },
    },
    ...simpleUser.data.attributes.inProgressForms,
  ],
);

module.exports = {
  cernerUser,
  loa1SimpleUser,
  loa1UserWithNoEmail,
  loa3UserWithNoEmail,
  simpleUser,
  loa3NoHealthUser,
  loa3With1010ez,
};
