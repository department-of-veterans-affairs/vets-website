{% comment %}

=====================
 Navigation side bar trigger
=====================

Used to open or close the side bar navigation bar on mobile screens. Must be used in a template with navigation-sidebar.html

{% endcomment %}

<button type="button" class="va-btn-sidebarnav-trigger" aria-controls="va-detailpage-sidebar">
  <span>
    <b>More in this section</b>
    {% include "assets/img/arrow-right-white.svg" %}
  </span>
</button>


<script type="text/javascript">
    var element = document.getElementsByClassName("va-btn-sidebarnav-trigger")[0];
    var offset;

    if (document.body.clientWidth < 768) {
      offset = element.offsetTop;
    }

    window.addEventListener("resize", function() {
      if (document.body.clientWidth < 768) {
        offset = element.offsetTop;
      }
    }, false);

    window.addEventListener("scroll", function() {
      if (document.body.clientWidth < 768) {
        if (offset < window.pageYOffset) {
          element.classList.add("fixed-trigger");
        } else {
          element.classList.remove("fixed-trigger");
        }
      }
    }, false);
</script>
