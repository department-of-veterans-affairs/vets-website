name: Configure AWS Credentials
description: Configure AWS Credentials

inputs:
  aws_id:
    description: AWS Access ID
    required: true
  aws_key:
    description: AWS Secret Key
    required: true
  aws_region:
    description: AWS region
    required: true
  role:
    description: Role to assume
    required: true
  session_name:
    description: Role Session Name
    required: true
  role_duration:
    description: Role Duration in Seconds
    required: true

runs:
  using: composite
  steps:
    uses: aws-actions/configure-aws-credentials@v4
    with:
      aws-access-key-id: ${{ inputs.aws_id }}
      aws-secret-access-key: ${{ inputs.aws_key }}
      aws-region: ${{ inputs.aws_region }}
      mask-aws-account-id: true
      role-to-assume: ${{ inputs.role }}
      role-session-name: ${{ inputs.session_name }}
      role-duration-seconds: ${{ inputs.role_duration }}
